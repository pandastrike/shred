var require=function(e,t){var n=require.resolve(e,t||"/"),r=require.modules[n];if(!r)throw new Error("Failed to resolve module "+e+", tried "+n);var i=r._cached?r._cached:r();return i};require.paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(e,t){function o(e){if(require.modules[e])return e;for(var t=0;t<require.extensions.length;t++){var n=require.extensions[t];if(require.modules[e+n])return e+n}}function u(e){e=e.replace(/\/+$/,"");var t=e+"/package.json";if(require.modules[t]){var r=require.modules[t](),i=r.browserify;if(typeof i=="object"&&i.main){var s=o(n.resolve(e,i.main));if(s)return s}else if(typeof i=="string"){var s=o(n.resolve(e,i));if(s)return s}else if(r.main){var s=o(n.resolve(e,r.main));if(s)return s}}return o(e+"/index")}function a(e,t){var n=f(t);for(var r=0;r<n.length;r++){var i=n[r],s=o(i+"/"+e);if(s)return s;var a=u(i+"/"+e);if(a)return a}var s=o(e);if(s)return s}function f(e){var t;e==="/"?t=[""]:t=n.normalize(e).split("/");var r=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";r.push(s)}return r}t||(t="/");if(require._core[e])return e;var n=require.modules.path(),r=t||".";if(e.match(/^(?:\.\.?\/|\/)/)){var i=o(n.resolve(r,e))||u(n.resolve(r,e));if(i)return i}var s=a(e,r);if(s)return s;throw new Error("Cannot find module '"+e+"'")}}(),require.alias=function(e,t){var n=require.modules.path(),r=null;try{r=require.resolve(e+"/package.json","/")}catch(i){r=require.resolve(e,"/")}var s=n.dirname(r),o=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(require.modules);for(var u=0;u<o.length;u++){var a=o[u];if(a.slice(0,s.length+1)===s+"/"){var f=a.slice(s.length);require.modules[t+f]=require.modules[s+f]}else a===s&&(require.modules[t]=require.modules[s])}},require.define=function(e,t){var n=require._core[e]?"":require.modules.path().dirname(e),r=function(e){return require(e,n)};r.resolve=function(e){return require.resolve(e,n)},r.modules=require.modules,r.define=require.define;var i={exports:{}};require.modules[e]=function(){return require.modules[e]._cached=i.exports,t.call(i.exports,r,i,i.exports,n,e),require.modules[e]._cached=i.exports,i.exports}},typeof process=="undefined"&&(process={}),process.nextTick||(process.nextTick=function(){var e=[],t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){if(t.source===window&&t.data==="browserify-tick"){t.stopPropagation();if(e.length>0){var n=e.shift();n()}}},!0),function(n){t?(e.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(e){if(e==="evals")return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(e,t,n,r,i){function s(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function o(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var u=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:process.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(s(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=u.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=u.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return u.exec(e)[3]||""}}),require.define("/shred.js",function(e,t,n,r,i){var s=e("ax"),o=e("cookiejar"),u=o.CookieJar,a=function(e){e=e||{},this.agent=e.agent,this.defaults=e.defaults||{},this.log=e.logger||new s({level:"info"}),this._sharedCookieJar=new u,this.logCurl=e.logCurl||!1};a.Request=e("./shred/request"),a.Response=e("./shred/response"),a.prototype={request:function(e){e.logger=this.log,e.logCurl=e.logCurl||this.logCurl,e.cookieJar="cookieJar"in e?e.cookieJar:this._sharedCookieJar,e.agent=e.agent||this.agent;for(var t in this.defaults)this.defaults.hasOwnProperty(t)&&!e[t]&&(e[t]=this.defaults[t]);return new a.Request(e)}},"get put post delete".split(" ").forEach(function(e){a.prototype[e]=function(t){return t.method=e,this.request(t)}}),t.exports=a}),require.define("/node_modules/ax/package.json",function(e,t,n,r,i){t.exports={main:"./lib/ax.js"}}),require.define("/node_modules/ax/lib/ax.js",function(e,t,n,r,i){var s=e("util").inspect,o=e("fs"),u=function(e,t){var n=e=="debug"||e=="error";return t?typeof t=="object"?t instanceof Error&&n?t.stack:s(t):t.toString():t.toString()},a=function(e){return this},f=function(e,t){return function(t){return this.stream.write(this.format(e,t)+"\n"),this}},l=function(e){var t=this,e=e||{};e.level=e.level||"info",e.timestamp=e.timestamp||!0,e.prefix=e.prefix||"",t.options=e,t.options.module&&(t.options.prefix=t.options.module),t.options.file?t.stream=o.createWriteStream(t.options.file,{flags:"a"}):process.title==="node"?t.stream=process.stderr:process.title==="browser"&&(t.stream=function(){return console[t.options.level].apply(console,arguments)});switch(t.options.level){case"debug":["debug","info","warn"].forEach(function(e){t[e]=l.writer(e)});case"info":["info","warn"].forEach(function(e){t[e]=l.writer(e)});case"warn":t.warn=l.writer("warn")}};l.writer=function(e){return function(t){var n=this;process.title==="node"?n.stream.write(n.format(e,t)+"\n"):process.title==="browser"&&n.stream(n.format(e,t)+"\n")}},l.prototype={info:function(){},debug:function(){},warn:function(){},error:l.writer("error"),format:function(e,t){if(!t)return"";var n=this,r=n.options.prefix,i=n.options.timestamp?" "+(new Date).toISOString():"";return r+i+": "+t}},t.exports=l}),require.define("util",function(e,t,n,r,i){}),require.define("fs",function(e,t,n,r,i){}),require.define("/node_modules/cookiejar/package.json",function(e,t,n,r,i){t.exports={main:"cookiejar.js"}}),require.define("/node_modules/cookiejar/cookiejar.js",function(e,t,n,r,i){n.CookieAccessInfo=CookieAccessInfo=function o(e,t,n,r){return this instanceof o?(this.domain=e||undefined,this.path=t||"/",this.secure=!!n,this.script=!!r,this):new o(e,t,n,r)},n.Cookie=Cookie=function u(e){return e instanceof u?e:this instanceof u?(this.name=null,this.value=null,this.expiration_date=Infinity,this.path="/",this.domain=null,this.secure=!1,this.noscript=!1,e&&this.parse(e),this):new u(e)},Cookie.prototype.toString=function a(){var e=[this.name+"="+this.value];return this.expiration_date!==Infinity&&e.push("expires="+(new Date(this.expiration_date)).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var s=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(t){if(this instanceof Cookie){var n=t.split(";"),r=n[0].match(/([^=]+)=((?:.|\n)*)/),i=r[1],s=r[2];this.name=i,this.value=s;for(var o=1;o<n.length;o++){r=n[o].match(/([^=]+)(?:=((?:.|\n)*))?/),i=r[1].trim().toLowerCase(),s=r[2];switch(i){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=s?Number(Date.parse(s)):Infinity;break;case"path":this.path=s?s.trim():"";break;case"domain":this.domain=s?s.trim():"";break;case"secure":this.secure=!0}}return this}return(new Cookie).parse(t)},Cookie.prototype.matches=function(t){return this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t)?!1:!0},Cookie.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&t.path.indexOf(this.path)!==0)return!1;if(this.domain===t.domain)return!0;if(this.domain&&this.domain.charAt(0)==="."){var n=t.domain.indexOf(this.domain.slice(1));if(n===-1||n!==t.domain.length-this.domain.length+1)return!1}else if(this.domain)return!1;return!0},n.CookieJar=CookieJar=function f(){if(this instanceof f){var e={};return this.setCookie=function(n){n=Cookie(n);var r=n.expiration_date<=Date.now();if(n.name in e){var i=e[n.name];for(var s=0;s<i.length;s++){var o=i[s];if(o.collidesWith(n))return r?(i.splice(s,1),i.length===0&&delete e[n.name],!1):i[s]=n}return r?!1:(i.push(n),n)}return r?!1:e[n.name]=[n]},this.getCookie=function(n,r){var i=e[n];for(var s=0;s<i.length;s++){var o=i[s];if(o.expiration_date<=Date.now()){i.length===0&&delete e[o.name];continue}if(o.matches(r))return o}},this.getCookies=function(n){var r=[];for(var i in e){var s=this.getCookie(i,n);s&&r.push(s)}return r.toString=function o(){return r.join(":")},r.toValueString=function(){return r.map(function(e){return e.toValueString()}).join(";")},r},this}return new f},CookieJar.prototype.setCookies=function(t){t=Array.isArray(t)?t:t.split(s);var n=[];for(var r=0;r<t.length;r++){var i=Cookie(t[r]);this.setCookie(i)&&n.push(i)}return n}}),require.define("/shred/request.js",function(e,t,n,r,i){var s=e("http"),o=e("https"),u=e("./parseUri"),a=e("events").EventEmitter,f=e("sprintf").sprintf,l=e("./response"),c=e("./mixins/headers"),h=e("./content"),p=s.STATUS_CODES||{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"},d=function(e){this.log=e.logger,this.cookieJar=e.cookieJar,this.encoding=e.encoding,this.logCurl=e.logCurl,v(this,e||{}),m(this)};Object.defineProperties(d.prototype,{url:{get:function(){return this.scheme?f("%s://%s:%s%s",this.scheme,this.host,this.port,(this.proxy?"/":this.path)+(this.query?"?"+this.query:"")):null},set:function(e){return e=u(e),this.scheme=e.protocol,this.host=e.host,this.port=e.port,this.path=e.path,this.query=e.query,this},enumerable:!0},headers:{get:function(){return this.getHeaders()},enumerable:!0},port:{get:function(){if(!this._port)switch(this.scheme){case"https":return this._port=443;case"http":default:return this._port=80}return this._port},set:function(e){return this._port=e,this},enumerable:!0},method:{get:function(){return this._method=this._method||"GET"},set:function(e){return this._method=e,this},enumerable:!0},query:{get:function(){return this._query},set:function(e){var t=function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t=t.slice(0,-1),t};return e?(typeof e=="object"&&(e=t(e)),this._query=e):this._query="",this},enumerable:!0},parameters:{get:function(){return QueryString.parse(this._query||"")},enumerable:!0},body:{get:function(){return this._body},set:function(e){return this._body=new h({data:e,type:this.getHeader("Content-Type")}),this.setHeader("Content-Type",this.content.type),this.setHeader("Content-Length",this.content.length),this},enumerable:!0},timeout:{get:function(){return this._timeout},set:function(e){var t=this,n=0;return e?(typeof e=="number"?n=e:n=(e.milliseconds||0)+1e3*((e.seconds||0)+60*((e.minutes||0)+60*(e.hours||0))),this._timeout=n,this):this},enumerable:!0}}),Object.defineProperty(d.prototype,"content",Object.getOwnPropertyDescriptor(d.prototype,"body")),d.prototype.inspect=function(){var e=this,t=this.format_headers(),n=["<Shred Request> ",e.method.toUpperCase(),e.url].join(" ");return[n,"- Headers:",t].join("\n")},d.prototype.format_headers=function(){var e=[],t=this._headers;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e.push("	"+n+": "+r)}return e.join("\n")},d.prototype.on=function(e,t){var n=this.emitter;if(arguments.length===1&&typeof e=="function")n.on("response",e);else if(arguments.length===1&&typeof e=="object")for(var r in e)e.hasOwnProperty(r)&&n.on(r,e[r]);else n.on(e,t);return this},c.gettersAndSetters(d);var v=function(e,t){e.log.debug("Processing request options .."),e.emitter=new a,e.agent=t.agent;if(t.on)for(var n in t.on)t.on.hasOwnProperty(n)&&e.emitter.on(n,t.on[n]);if(!t.url&&!t.host){e.emitter.emit("request_error",new Error("No url or url options (host, port, etc.)"));return}t.url&&(t.proxy?(e.url=t.proxy,e.path=t.url):e.url=t.url),e.query=t.query||t.parameters||e.query,e.method=t.method,e.setHeader("user-agent",t.agent||"Shred"),e.setHeaders(t.headers);if(e.cookieJar){var r=e.cookieJar.getCookies(CookieAccessInfo(e.host,e.path));if(r.length){var i=e.getHeader("cookie")||"";for(var s=0;s<r.length;++s)i.length&&i[i.length-1]!=";"&&(i+=";"),i+=r[s].name+"="+r[s].value+";";e.setHeader("cookie",i)}}if(t.body||t.content)e.content=t.body||t.content;e.timeout=t.timeout},m=function(e){var t;e.log.debug("Creating request .."),e.log.debug(e);var n={host:e.host,port:e.port,method:e.method,path:e.path+(e.query?"?"+e.query:""),headers:e.getHeaders(),scheme:e.scheme,agent:e.agent};e.logCurl&&g(e);var r=e.scheme=="http"?s:o;e._raw=r.request(n,function(n){e.log.debug("Received response .."),clearTimeout(t),n=new l(n,e,function(t){var n=function(n){var r=e.emitter,i=p[t.status]?p[t.status].toLowerCase():null;r.listeners(t.status).length>0||r.listeners(i).length>0?(r.emit(t.status,t),r.emit(i,t)):r.listeners(n).length>0?r.emit(n,t):t.isRedirect||r.emit("response",t)};t.isRedirect?(e.log.debug("Redirecting to "+t.getHeader("Location")),e.url=t.getHeader("Location"),n("redirect"),m(e)):t.isError?n("error"):n("success")})}),e._raw.on("error",function(t){e.emitter.emit("request_error",t)}),e._raw.on("socket",function(t){e.emitter.emit("socket",t)}),e._raw.on("socket",function(){e._raw.socket.on("timeout",function(){e._raw.abort()})}),e.content&&(e.log.debug("Streaming body: '"+e.content.body.slice(0,59)+"' ... "),e._raw.write(e.content.body)),e.timeout&&(t=setTimeout(function(){e.log.debug("Timeout fired, aborting request ..."),e._raw.abort(),e.emitter.emit("timeout",e)},e.timeout)),e.log.debug("Sending request ..."),e._raw.end()},g=function(e){var t=e.getHeaders(),n="";for(var r in t)n+='-H "'+r+": "+t[r]+'" ';var i="";e.content&&(i+="-d '"+e.content.body+" ");var s=e.query?"?"+e.query:"";console.log("curl -X "+e.method.toUpperCase()+" "+e.scheme+"://"+e.host+":"+e.port+e.path+s+" "+n+i)};t.exports=d}),require.define("http",function(e,t,n,r,i){}),require.define("https",function(e,t,n,r,i){}),require.define("/shred/parseUri.js",function(e,t,n,r,i){function s(e){var t=s.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}s.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.exports=s}),require.define("events",function(e,t,n,r,i){process.EventEmitter||(process.EventEmitter=function(){});var s=n.EventEmitter=process.EventEmitter,o=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.toString.call(e)==="[object Array]"},u=10;s.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},s.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(o(t)){var n=Array.prototype.slice.call(arguments,1),r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i].apply(this,n);return!0}return!1},s.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=u,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},s.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(o(n)){var r=n.indexOf(t);if(r<0)return this;n.splice(r,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},s.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},s.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),require.define("/node_modules/sprintf/package.json",function(e,t,n,r,i){t.exports={main:"./lib/sprintf"}}),require.define("/node_modules/sprintf/lib/sprintf.js",function(e,t,n,r,i){var s=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,o=n.length,u="",a,f=[],l,c,h,p,d,v;for(l=0;l<o;l++){u=e(n[l]);if(u==="string")f.push(n[l]);else if(u==="array"){h=n[l];if(h[2]){a=r[i];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c]))throw s('[sprintf] property "%s" does not exist',h[2][c]);a=a[h[2][c]]}}else h[1]?a=r[h[1]]:a=r[i++];if(/[^s]/.test(h[8])&&e(a)!="number")throw s("[sprintf] expecting number but found %s",e(a));switch(h[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a,d=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ",v=h[6]-String(a).length,p=h[6]?t(d,v):"",f.push(h[5]?a+p:p+a)}}return f.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),o=function(e,t){return t.unshift(e),s.apply(null,t)};n.sprintf=s,n.vsprintf=o}),require.define("/shred/response.js",function(e,t,n,r,i){var s=e("./content"),o=e("./mixins/headers"),u=e("cookiejar"),a=u.Cookie,f=null;try{f=e("zlib")}catch(l){console.warn("no zlib library")}var c=null;try{c=e("iconv-lite")}catch(l){console.warn("no iconv library")}var h=function(e,t,n){var r=this;this._raw=e,this._setHeaders.call(this,e.headers);if(t.cookieJar&&this.getHeader("set-cookie")){var i=this.getHeader("set-cookie"),o=[],u;for(var l=0;l<i.length;l++){var h=i[l];if(!h)continue;h.match(/domain\=/i)||(h+="; domain="+t.host),h.match(/path\=/i)||(h+="; path="+t.path);try{u=new a(h),u&&o.push(u)}catch(p){console.warn("Tried to set bad cookie: "+h)}}t.cookieJar.setCookies(o)}this.request=t,this.client=t.client,this.log=this.request.log;var d=[],v=0;e.on("data",function(e){d.push(e),v+=e.length}),e.on("end",function(){var e;if(typeof Buffer=="undefined")e=d.join("");else{e=new Buffer(v);for(var t=0,i=0;t<d.length;t++)d[t].copy(e,i),i+=d[t].length}var o=function(e){r._body=new s({body:e,type:r.getHeader("Content-Type")}),n(r)};f&&r.getHeader("Content-Encoding")==="gzip"?f.gunzip(e,function(t,n){c&&r.request.encoding?e=c.fromEncoding(n,r.request.encoding):e=n.toString(),o(e)}):(r.request.encoding&&(e=c.fromEncoding(e,r.request.encoding)),o(e))})};h.prototype={inspect:function(){var e=this,t=this.format_headers(),n=["<Shred Response> ",e.status].join(" ");return[n,"- Headers:",t].join("\n")},format_headers:function(){var e=[],t=this._headers;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e.push("	"+n+": "+r)}return e.join("\n")}},Object.defineProperties(h.prototype,{status:{get:function(){return this._raw.statusCode},enumerable:!0},body:{get:function(){return this._body}},content:{get:function(){return this.body},enumerable:!0},isRedirect:{get:function(){return this.status>299&&this.status<400&&this.getHeader("Location")},enumerable:!0},isError:{get:function(){return this.status===0||this.status>399},enumerable:!0}}),o.getters(h),o.privateSetters(h);var p=h.prototype.getHeader;h.prototype.getHeader=function(e){return p.call(this,e)||typeof this._raw.getHeader=="function"&&this._raw.getHeader(e)},t.exports=h}),require.define("/shred/content.js",function(e,t,n,r,i){var s=function(e){this.body=e.body,this.data=e.data,this.type=e.type};s.prototype={},Object.defineProperties(s.prototype,{type:{get:function(){if(this._type)return this._type;if(this._data)switch(typeof this._data){case"string":return"text/plain";case"object":return"application/json"}return"text/plain"},set:function(e){return this._type=e,this},enumerable:!0},data:{get:function(){return this._body?this.processor.parser(this._body):this._data},set:function(e){return this._body&&e&&a.setDataWithBody(this),this._data=e,this},enumerable:!0},body:{get:function(){return this._data?this.processor.stringify(this._data):this.processor.stringify(this._body)},set:function(e){return this._data&&e&&a.setBodyWithData(this),this._body=e,this},enumerable:!0},processor:{get:function(){var e=s.processors[this.type];if(e)return e;var t=this.type.split(";")[0],n=t.split(/\+|\//);for(var r=0,i=n.length;r<i;r++)e=s.processors[n[r]];return e||{parser:o,stringify:u}},enumerable:!0},length:{get:function(){return typeof Buffer!="undefined"?Buffer.byteLength(this.body):this.body.length}}}),s.processors={},s.registerProcessor=function(e,t){e.forEach?e.forEach(function(e){s.processors[e]=t}):s.processors[e]=t};var o=function(e){return e},u=function(e){return e.toString()};s.registerProcessor(["text/html","text/plain","text"],{parser:o,stringify:u}),s.registerProcessor(["application/json; charset=utf-8","application/json","json"],{parser:function(e){return JSON.parse(e)},stringify:function(e){return JSON.stringify(e)}});var a={setDataWithBody:function(e){throw new Error("Attempt to set data attribute of a content object when the body attributes was already set.")},setBodyWithData:function(e){throw new Error("Attempt to set body attribute of a content object when the data attributes was already set.")}};t.exports=s}),require.define("/shred/mixins/headers.js",function(e,t,n,r,i){var s=function(e){return e.toLowerCase().replace("_","-").replace(/(^|-)(\w)/g,function(e){return e.toUpperCase()})},o=function(e){return{}},u=function(e){return e._headers||(e._headers=o(e))},a=function(e,t){return u(e)[s(t)]},f=function(e,t){var n=t&&t.length>0?t:Object.keys(u(e)),r=n.reduce(function(t,n){return t[n]=a(e,n),t},{});return Object.freeze(r),r},l=function(e,t,n){return u(e)[s(t)]=n,e},c=function(e,t){for(var n in t)l(e,n,t[n]);return this};t.exports={getters:function(e){e.prototype.getHeader=function(e){return a(this,e)},e.prototype.getHeaders=function(){return f(this,arguments)}},privateSetters:function(e){e.prototype._setHeader=function(e,t){return l(this,e,t)},e.prototype._setHeaders=function(e){return c(this,e)}},setters:function(e){e.prototype.setHeader=function(e,t){return l(this,e,t)},e.prototype.setHeaders=function(e){return c(this,e)}},gettersAndSetters:function(e){e.prototype.getHeader=function(e){return a(this,e)},e.prototype.getHeaders=function(){return f(this,arguments)},e.prototype.setHeader=function(e,t){return l(this,e,t)},e.prototype.setHeaders=function(e){return c(this,e)}}}}),require.define("/node_modules/iconv-lite/package.json",function(e,t,n,r,i){t.exports={}}),require.define("/node_modules/iconv-lite/index.js",function(e,t,n,r,i){var s=t.exports={toEncoding:function(e,t){return s.getCodec(t).toEncoding(e)},fromEncoding:function(e,t){return s.getCodec(t).fromEncoding(e)},defaultCharUnicode:"ï¿½",defaultCharSingleByte:"?",getCodec:function(e){var t=e||"utf8",n=undefined;for(;;){c(t)==="String"&&(t=t.replace(/[- ]/g,"").toLowerCase());var r=s.encodings[t],i=c(r);if(i==="String")n={originalEncoding:t},t=r;else{if(i!=="Object"||r.type==undefined){if(i==="Function")return r(n);throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}n=r,t=r.type}}},encodings:{internal:function(e){return{toEncoding:function(t){return new Buffer(l(t),e.originalEncoding)},fromEncoding:function(t){return f(t).toString(e.originalEncoding)}}},utf8:"internal",ucs2:"internal",binary:"internal",ascii:"internal",base64:"internal",singlebyte:function(e){if(!e.chars||e.chars.length!==128&&e.chars.length!==256)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");e.chars.length===128&&(e.chars=a+e.chars),e.charsBuf||(e.charsBuf=new Buffer(e.chars,"ucs2"));if(!e.revCharsBuf){e.revCharsBuf=new Buffer(65536);var t=s.defaultCharSingleByte.charCodeAt(0);for(var n=0;n<e.revCharsBuf.length;n++)e.revCharsBuf[n]=t;for(var n=0;n<e.chars.length;n++)e.revCharsBuf[e.chars.charCodeAt(n)]=n}return{toEncoding:function(t){t=l(t);var n=new Buffer(t.length),r=e.revCharsBuf;for(var i=0;i<t.length;i++)n[i]=r[t.charCodeAt(i)];return n},fromEncoding:function(t){t=f(t);var n=e.charsBuf,r=new Buffer(t.length*2),i=0,s=0;for(var o=0,u=t.length;o<u;o++)i=t[o]*2,s=o*2,r[s]=n[i],r[s+1]=n[i+1];return r.toString("ucs2")}}},table:function(e){var t=e.table,n,r=e.revCharsTable;if(!t)throw new Error("Encoding '"+e.type+"' has incorect 'table' option");if(!r){r=e.revCharsTable={};for(n in t)r[t[n]]=parseInt(n)}return{toEncoding:function(e){e=l(e);var t=e.length,n=t;for(var i=0;i<t;i++)e.charCodeAt(i)>>7&&n++;var o=new Buffer(n),u,a,f=r[s.defaultCharUnicode.charCodeAt(0)];for(var i=0,c=0;i<t;i++)a=e.charCodeAt(i),a>>7?(u=r[a]||f,o[c++]=u>>8,o[c++]=u&255):o[c++]=a;return o},fromEncoding:function(e){e=f(e);var n=e.length,r=0;for(var i=0;i<n;i++)r++,e[i]&128&&i++;var o=new Buffer(r*2),u,a,l=s.defaultCharUnicode.charCodeAt(0);for(var i=0,c=0;i<n;i++,c+=2)a=e[i],a&128?(a=(a<<8)+e[++i],u=t[a]||l):u=a,o[c]=u&255,o[c+1]=u>>8;return o.toString("ucs2")}}}}};s.encode=s.toEncoding,s.decode=s.fromEncoding;var o=r+"/encodings/",u=e("fs");u.readdirSync(o).forEach(function(t){if(u.statSync(o+t).isDirectory())return;var n=e(o+t);for(var r in n)s.encodings[r]=n[r]});var a="\0\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",f=function(e){return e=e||new Buffer(0),e instanceof Buffer?e:new Buffer(e.toString(),"utf8")},l=function(e){return e=e||"",e instanceof String?e:e.toString(e instanceof Buffer?"utf8":undefined)},c=function(e){return Object.prototype.toString.call(e).slice(8,-1)}}),require.define("/node_modules/http-browserify/package.json",function(e,t,n,r,i){t.exports={main:"index.js",browserify:"browser.js"}}),require.define("/node_modules/http-browserify/browser.js",function(e,t,n,r,i){var s=t.exports,o=e("events").EventEmitter,u=e("./lib/request");s.request=function(e,t){e||(e={}),e.host||(e.host=window.location.host.split(":")[0]),e.port||(e.port=window.location.port);var n=new u(new a,e);return t&&n.on("response",t),n},s.get=function(e,t){e.method="GET";var n=s.request(e,t);return n.end(),n};var a=function(){if(typeof window=="undefined")throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();s.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"}}),require.define("/node_modules/http-browserify/lib/request.js",function(e,t,n,r,i){var s=e("events").EventEmitter,o=e("./response"),u=e("./isSafeHeader"),a=t.exports=function(e,t){var n=this;n.xhr=e,n.body="";var r=t.host+":"+t.port+(t.path||"/");e.open(t.method||"GET",(t.scheme||"http")+"://"+r,!0),t.headers&&Object.keys(t.headers).forEach(function(n){if(!u(n))return;var r=t.headers[n];Array.isArray(r)?r.forEach(function(t){e.setRequestHeader(n,t)}):e.setRequestHeader(n,r)});var i=new o(e);i.on("ready",function(){n.emit("response",i)}),e.onreadystatechange=function(){i.handle(e)}};a.prototype=new s,a.prototype.setHeader=function(e,t){if(Array.isArray&&Array.isArray(t)||t instanceof Array)for(var n=0;n<t.length;n++)this.xhr.setRequestHeader(e,t[n]);else this.xhr.setRequestHeader(e,t)},a.prototype.write=function(e){this.body+=e},a.prototype.end=function(e){e!==undefined&&this.write(e),this.xhr.send(this.body)}}),require.define("/node_modules/http-browserify/lib/response.js",function(e,t,n,r,i){function f(e){var t=e.getAllResponseHeaders().split(/\r?\n/),n={};for(var r=0;r<t.length;r++){var i=t[r];if(i==="")continue;var s=i.match(/^([^:]+):\s*(.*)/);if(s){var o=s[1].toLowerCase(),u=s[2];n[o]!==undefined?Array.isArray&&Array.isArray(n[o])||n[o]instanceof Array?n[o].push(u):n[o]=[n[o],u]:n[o]=u}else n[i]=!0}return n}var s=e("events").EventEmitter,o=e("./isSafeHeader"),u=t.exports=function(e){this.xhr=e,this.offset=0};u.prototype=new s;var a={streaming:!0,status2:!0};u.prototype.getHeader=function(e){var t=this.headers?this.headers[e.toLowerCase()]:null;return t?t:o(e)?this.xhr.getResponseHeader(e):null},u.prototype.handle=function(){var e=this.xhr;if(e.readyState===2&&a.status2){try{this.statusCode=e.status,this.headers=f(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&e.readyState===3){try{this.statusCode||(this.statusCode=e.status,this.headers=f(e),this.emit("ready"))}catch(t){}try{this.write()}catch(t){a.streaming=!1}}else e.readyState===4&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this.write(),e.error?this.emit("error",e.responseText):this.emit("end"))},u.prototype.write=function(){var e=this.xhr;e.responseText.length>this.offset&&(this.emit("data",e.responseText.slice(this.offset)),this.offset=e.responseText.length)}}),require.define("/node_modules/http-browserify/lib/isSafeHeader.js",function(e,t,n,r,i){var s=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","set-cookie","te","trailer","transfer-encoding","upgrade","user-agent","via"];t.exports=function(e){return e?s.indexOf(e.toLowerCase())===-1:!1}}),require.alias("http-browserify","/node_modules/http"),require.alias("http-browserify","/node_modules/https")